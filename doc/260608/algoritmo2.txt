
encontre_intervalos;
monte retangulos a partir dos intervalos;

funcao encontre_intervalos () {
para cada linha de imagem_altura {
  intervalo.esquerda é 1;
  enquanto (intervalo.esquerda é menor que imagem.largura) {
    intervalo.esquerda = encontre_primeiro_pixel_discrepante_linha_atual();
    se intervalo.esquerda < imagem.largura {
      intervalo.direita = encontre_ultimo_pixel_intervalo(primeiro_pixel_linha_atual);
      se (intervalo.direita - intervalo.esquerda > 10)
        insere intervalo em lista_intervalos
      intervalo.esquerda é intervalo.direita + 2;
    }
  }
}
}

funcao encontre_ultimo_pixel_intervalo (pixel_atual) {
  repita {
    se são similares o pixel_atual e o pixel anterior no intervalo
      some 1 em pixels_iguais
    senão zera número de pixels_iguais
    se o intervalo interessa
      o ultimo_pixel é o pixel anterior ao atual
    se é similar o primeiro_pixel_intervalo e o pixel atual, próximo intervalo não interessa
    senão o próximo intervalo interessa
    }
    pixel_atual = próximo_pixel;
  } enquanto(pixel_atual é menor que a da largura_imagem e o número de pixels_iguais é menor que a constante_variancia);
  retorne ultimo_pixel;
}

